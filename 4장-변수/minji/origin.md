## 변수란 무엇인가? 왜 필요한가?

- 메모리: 데이터를 저장할 수 있는 메모리 셀의 집합체
- 메모리 셀 하나의 크기는 1바이트로, 셀 단위로 데이터를 저장하거나 읽음
- 각 셀은 고유의 메모리 주소를 갖고, 주소는 메모리 공간의 위치를 나타냄
- 컴퓨터는 모든 데이터를 2진수로 처리함
- 자바스크립트는 개발자의 직접적인 메모리 제어를 허용하지 않음
  +) 값이 저장될 메모리주소는 코드가 실행될 때 메모리 상황에 따라 임의로 결정되고 동일한 코드여도 실행될 떄마다 주소는 변경될 수 있음 → 직접 접근하는 방법이 올바른 방법이 아님
- 변수: 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름
  ```jsx
  var result = 10 + 20; // result: 변수명, 30: 변수 값
  ```
- 할당: 변수에 값을 저장하는 것
- 참조: 변수에 저장된 값을 읽어 들이는 것

## 식별자

- 식별자: 어떤 값을 구별해서 식별할 수 있는 고유한 이름
- 변수, 함수, 클래스 등의 이름은 모두 식별자
- 식별자는 값이 저장되어있는 메모리 주소와 매핑 관계를 맺고, 이 매핑 정보 또한 메모리에 저장되어야 함
- 식별자는 값이 아닌 메모리 주소를 기억하고 있음
- 식별자는 네이밍 규칙을 준수해야 하며 선언에 의해 자바스크립트 엔진에 식별자 존재를 알림

## 변수 선언

- 변수 선언: 변수를 생성하는 것. 값을 저장하기 위한 메모리 공간을 확보하고 변수 이름과 확보된 메모리 공간의 주소를 연결해서 값을 저장할 수 있게 준비하는 것.
- 변수 선언에 의해 확보된 공간은 확보가 해제되기 전까지는 메모리 공간을 사용할 수 없도록 보호됨
- 변수 선언 시 키워드를 사용함 → var, let, const
  - ES6에서 let, const 도입 이전에는 var 가 유일하게 변수를 선언할 수 있는 키워드였음
  - var 키워드에는 여러 단점이 존재 → 대표적으로 블록 레벨 스코프를 지원하지 않고 함수 레벨 스코프를 지원한다는 것
  - ES6는 ES5의 슈퍼셋 개념. var 은 deprecated 되지 않았음
- 키워드: 자바스크립트 엔진이 수행할 동작을 규정한 일종의 명령어
- 쉼표로 구분해서 하나의 문에서 여러 개를 한번에 선언할 수 있음 ex. `var person, name;`
- 변수를 선언한 이후 값을 할당하기 전 메모리 공간은 자바스크립트 엔진에 의해 undefined라는 값이 암묵적으로 할당되어 초기화됨
- undefined: 자바스크립트에서 제공하는 원시 타입의 값
- 자바스크립트 엔진은 변수 선언을 2단계에 거쳐서 수행
  - 선언 단계: 변수 이름을 등록해 자바스크립트 엔진에 변수의 존재를 알림
  - 초기화 단계: 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined 할당. 만약 초기화 단계가 없다면 이전에 다른 애플리케이션이 사용했던 값인 쓰레기 값(Garbage Value)이 남아있을 수 있는데 자바스크립트는 암묵적으로 초기화를 수행하므로 이런 위험으로부터 안전함
- 모든 식별자는 실행 컨텍스트 내에 등록되는데 key-value 형식인 객체로 등록되어 관리됨
- 실행 컨텍스트 자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역
- 선언 없이 식별자를 사용할 경우, 자바스크립트 엔진이 등록된 식별자를 찾을 수 없을 때 발생하는 ReferenceError 가 발생함

## 변수 선언의 실행 시점과 변수 호이스팅

- 자바스크립트 코드는 인터프리터에 의해 한 줄씩 순차적으로 실행됨(런타임 시점)
- 자바스크립트 엔진은 런타임 이전 소스코드의 평과 과정을 거치면서 소스코드를 실행하기 위한 준비를 하는데, 이때 모든 선언문들을 소스코드에서 찾아내 먼저 실행함
  → 변수의 선언시점 보다 앞에서 변수를 호출하더라도 참조 에러가 발생하지 않는 이유
- 변수 호이스팅: 변수 선언문이 코드의 선두로 끌어올려진 것처럼 동작하는 자바스크립 고유의 특성
  +) 함수, 클래스 등 키워드를 사용해 선언하는 모든 식별자들은 호이스팅 됨

## 값의 할당

- 변수에 값을 할당할 때는 할당 연산자(=)를 사용
- 변수 선언과 할당을 하나의 statement로 단축 표현도 가능함 → 단축 표현해도 자바스크립트 엔진은 나누어 실행함
  - 선언: `var score;`
  - 할당: `score = 10;`
  - 선언&할당: `var score = 10;`
- 변수에 값을 할당할 때는 undefined 가 저장된 메모리 공간을 지우고 그 메모리 공간에 새로운 값을 저장하는 것이 아니라, 새로운 메모리 공간을 확보하고 그곳에 할당 값을 저장함

## 값의 재할당

- var 키워드로 선언한 변수는 값을 재할당할 수 있음
- 변수는 선언과 동시에 undefined 로 초기화되기 때문에 첫 할당도 엄밀히 말하면 재할당
- 상수: 값을 재할당할 수 없고 단 한번만 할당할 수 있는 변수
  - const 키워드를 이용하면 상수를 표현할 수 있음
  - 단 const 키워드는 상수만을 위해서 사용되진 않음
- 재할당 시에도 할당과 마찬가지로 이전 값의 메모리 공간을 지우고 그 메모리 공간에 값을 재할당하는 것이 아니라 새로운 메모리 공간을 확보하고 그 메모리 공간에 재할당 값을 저장함
- 재할당 시 이전 값들은 어떠한 식별자와도 연결되어 있지 않으므로 불필요하다고 판단되어 가비지 콜렉터에 의해 메모리에서 자동해제됨. 단 언제 해제될지는 예측할 수 없음
- 가비지 콜렉터: 할당한 메모리 공간을 주기적으로 검사하여 더이상 사용되지 않는 메모리(어떤 식별자도 참조하지 않는 메모리)를 해제하는 기능
- 자바스크립트는 가비지 콜렉터를 내장하고 있는 매니지드 언어로 메모리 누수를 방지함
  - 언매니지드 언어(ex. C)의 경우 개발자가 명시적으로 메모리를 할당하고 해제할 수 있도록 함

## 식별자 네이밍 규칙

- 기본 규칙
  - 특수 문자를 제외한 문자, 숫자, 언더스코어(\_), 달러 기호($)를 포함
  - 특수 문자를 제외한 문자, 언더스코어(\_), 달러 기호($)로 시작해야 함(숫자로 시작할 수 없음)
  - 예약어는 식별자로 사용 불가
- ES5부터 유니코드 문자를 허용해 한글이나 일본어 식별자도 사용 가능 → 썩 바람직하진 않다고 함
- 자바스크립트는 대소문자를 구분함
- 네이밍 컨벤션: 하나 이상의 영어 단어로 구성된 식별자를 만들 때 가독성을 좋게 하기 위해 규정한 명명 규칙
  - 카멜 케이스, 스네이크 케이스, 파스칼 케이스
  - 헝가리안 케이스: 변수명 앞에 자료형을 붙이는 방식
- 자바스크립트에서는 일반적으로 변수나 함수의 이름에는 카멜 케이스를, 생성자 함수, 클래스 이름에는 파스칼 케이스를 사용함
