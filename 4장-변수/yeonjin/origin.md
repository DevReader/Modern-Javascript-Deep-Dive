## [4장 - 변수]

### 4.1 변수란 무엇인가? 왜 필요한가?

변수는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 말한다.

→ 값의 위치를 가리키는 상징적인 이름

- 변수 이름: 값을 식별할 수 있는 고유한 이름
- 변수 값: 변수에 저장된 값
- 할당: 변수가 값을 저장
- 참조: 변수에 저장된 값을 읽어 들이는 것

### 4.2 식별자

식별자: 어떤 값을 구별해서 식별할 수 있는 고유한 이름

식별자는 값이 아니라 메모리 주소를 기억하고 있다.

### 4.3 변수 선언

변수 선언이란 변수를 생성하는 것을 말한다.

메모리 공간을 확보하고 변수 이름과 확보된 메모리 공간의 주소를 연결해서 값을 저장할 수 있게 준비한다.

변수를 사용하려면 반드시 선언이 필요하다. (va, let, const) 선언하지 않은 식별자에 접근하면 ReferenceError(참조 에러)가 발생한다.

```jsx
var score;
```

→ 변수 이름을 등록하고 값을 저장할 메모리 공간을 확보한다.

→ 확보된 메모리 공간에는 자바스크립트 엔진에 의해 undefined 값이 암묵적으로 할당되어 초기화된다.

- 선언단계: 변수 이름을 등록해서 자바스크립트 엔전에 변수의 존재를 알린다.
  - 변수 이름은 실행 컨텍스트에 등록됨.
- 초기화단계: 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화한다.

### 4.4 변수 선언의 실행 시점과 변수 호이스팅

변수 선언은 런타임이 아니라 그 이전 단계에서 실행된다.

자바스크립트 엔진은 순차적으로 코드를 실행하기에 앞서, 소스코드의 평가 과정을 거치면서 소스코드를 실행하기 위한 준비를 한다 평가가 끝나면 모든 선언문을 제외하고 소스코드를 한 줄씩 순차적으로 실행한다.

`호이스팅`

변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징

var, let, const, function, function\*, class 키워드를 사용하는 모든 식별자는 호이스팅된다.

- let, const는 호이스팅되지만, var와 달리 TDZ(Temporal Dead Zone, 일시적 사각지대) 때문에 초기화 전에 접근하면 ReferenceError가 발생한다. (초기화되지 않음)

<aside>

왜 let, const도 호이스팅이 될까?

→ 자바스크립트 엔진이 코드를 실행하기 전에 **변수 선언부를 먼저 메모리에 등록**하는 과정에서 발생합니다.

</aside>

### 4.5 값의 할당

값의 할당은 소스코드가 순차적으로 실행되는 시점인 런타임에 실행된다.

`주의` 변수에 값을 할당할 때는 이전 값 undefined가 저장되어 있던 메모리 공간을 지우고 그 메모리 공간에 할당 값 80을 새롭게 저장하는 것이 아니라 새로운 메모리 공간을 확보하고 할당값을 저장한다.

```jsx
console.log(score);

score = 80;
var score;

console.log(score); // ?? 할당된 값 80이 출력된다.
```

### 4.6 값의 재할당

재할당: 이미 값이 할당되어 있는 변수에 새로운 값을 다시 할당하는 것

var 키워드로 선언한 변수는 선언과 동시에 undefined로 초기화되기 때문에 변수에 처음으로 값을 할당하는 것도 재할당이라고 볼 수 있다.

`상수`: 값을 재할당할 수 없어서 변수에 저장된 값을 변경할 수 없음. 상수는 단 한 번만 할당할 수 있는 변수

재할당할 때도 새로운 메모리 공간을 확보하고 그 메모리 공간에 값을 저장한다.

Q) 그렇다면 사용하지 않는 공간이 계속 생기는 거 아닐까?

→ 가비지 콜렉터로 할당한 메모리 공간을 주기적으로 검사하여 더 이상 사용되지 않는 메모리를 해제한다. js는 가비지 콜렉터를 내장하고 있는 메니지드 언어이기 때문에 `가비지 콜렉터`를 통해 메모리 누수를 방지할 수 있다.

### 4.7 식별자 네이밍 규칙

- 식별자는 특수문자를 제외한 문자, 숫자, 언더스코어, 달러 기호를 포함할 수 잇다.
- 식별자는 특수문자를 제외한 문자, 언더스코어, 달러 기호로 시작해야 한다. 숫자로 시작하는 것은 허용하지 않는다.
- 예약어는 식별자로 사용할 수 없다.
- 유니코드 문자로 명명된 식별자를 사용하는 것은 바람직하지 않으므로 권장하지 않는다.
  https://toss.oopy.io/0575a827-ad4a-4f30-bcd8-c460fc559684
- 대소문자를 구분한다
- 일반적으로 변수나 함수의 이름에는 카멜케이스를 사용하고, 생성자 함수, 클래스 이름에는 파스칼 케이스를 사용한다. `(카멜: firstName, 파스칼: FisrtName)`
